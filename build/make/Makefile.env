# before including this file, define:
# TOP relative to the including Makefile, e.g.
# 	TOP = $(abspath ../..)
# MODULE relative to TOP, e.g.
#   MODULE = src

BUILD = $(TOP)/build/make

include $(BUILD)/Makefile.config

SRCDIR = $(TOP)/$(MODULE)
BINDIR = $(TOP)/$(OS)-$(PLATFORM)-$(CONFIG)/bin
LIBDIR = $(TOP)/$(OS)-$(PLATFORM)-$(CONFIG)/lib
OBJDIR = $(TOP)/$(OS)-$(PLATFORM)-$(CONFIG)/obj/$(MODULE)

ifeq (Debug,$(CONFIG))
    CPPDEBUG = -g
endif

$(OBJDIR)/%.o: $(SRCDIR)/%.cpp
	g++ -c -std=c++11 $(CPPDEBUG) -o $@ $^ -I. -I$(TOP)/inc

makedirs:
	@ mkdir -p $(BINDIR) $(LIBDIR) $(OBJDIR) $(TESTDIR)